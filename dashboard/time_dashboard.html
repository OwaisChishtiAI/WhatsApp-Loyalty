<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>AG</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script>
    $( document ).ready(function() {
        var agent_id = sessionStorage.getItem("agent_id");
        if((agent_id == "" || agent_id == null)){
            console.log("Not loged in");
            window.location = 'index.html';
        }
    });
    </script>
    <!--
    =========================================================
    * ArchitectUI HTML Theme Dashboard - v1.0.0
    =========================================================
    * Product Page: https://dashboardpack.com
    * Copyright 2019 DashboardPack (https://dashboardpack.com)
    * Licensed under MIT (https://github.com/DashboardPack/architectui-html-theme-free/blob/master/LICENSE)
    =========================================================
    * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    -->
<link href="./main.css" rel="stylesheet"></head>
<body>
    <div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <div class="app-header header-shadow">
            <div class="app-header__logo">
                <div class="logo-src"></div>
                <div class="header__pane ml-auto">
                    <div>
                        <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="app-header__mobile-menu">
                <div>
                    <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                        <span class="hamburger-box">
                            <span class="hamburger-inner"></span>
                        </span>
                    </button>
                </div>
            </div>
            <div class="app-header__menu">
                <span>
                    <button type="button" class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav">
                        <span class="btn-icon-wrapper">
                            <i class="fa fa-ellipsis-v fa-w-6"></i>
                        </span>
                    </button>
                </span>
            </div>    <div class="app-header__content">
                <div class="app-header-left">
                    <div class="search-wrapper">
                        <div class="input-holder">
                            <input type="text" class="search-input" placeholder="Type to search">
                            <button class="search-icon"><span></span></button>
                        </div>
                        <button class="close"></button>
                    </div>
                    <ul class="header-menu nav">
                        <li class="nav-item">
                            <a href="javascript:void(0);" class="nav-link">
                                <i class="nav-link-icon fa fa-database"> </i>
                                Statistics
                            </a>
                        </li>
                        <li class="btn-group nav-item">
                            <a href="javascript:void(0);" class="nav-link">
                                <i class="nav-link-icon fa fa-edit"></i>
                                Projects
                            </a>
                        </li>
                        <li class="dropdown nav-item">
                            <a href="javascript:void(0);" class="nav-link">
                                <i class="nav-link-icon fa fa-cog"></i>
                                Settings
                            </a>
                        </li>
                    </ul>        </div>
                <div class="app-header-right">
                    <div class="header-btn-lg pr-0">
                        <div class="widget-content p-0">
                            <div class="widget-content-wrapper">
                              
                                <div class="widget-content-right header-user-info ml-3">
                                    <button type="button" class="btn btn-primary btn-sm" onclick="logout()">
                                        <i class="fa text-red fa-stop pr-1 pl-1"></i>
                                    </button>
                                    <script>
                                        function logout(){
                                        sessionStorage.setItem("agent_id", "");
                                        window.location = 'index.html';
                                        }
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div>        </div>
            </div>
        </div>        <div class="ui-theme-settings">
            <button type="button" id="TooltipDemo" class="btn-open-options btn btn-warning">
                <i class="fa fa-cog fa-w-16 fa-spin fa-2x"></i>
            </button>
            <div class="theme-settings__inner">
                <div class="scrollbar-container">
                    <div class="theme-settings__options-wrapper">
                        <h3 class="themeoptions-heading">Layout Options
                        </h3>
                        <div class="p-3">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="widget-content p-0">
                                        <div class="widget-content-wrapper">
                                            <div class="widget-content-left mr-3">
                                                <div class="switch has-switch switch-container-class" data-class="fixed-header">
                                                    <div class="switch-animate switch-on">
                                                        <input type="checkbox" checked data-toggle="toggle" data-onstyle="success">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="widget-content-left">
                                                <div class="widget-heading">Fixed Header
                                                </div>
                                                <div class="widget-subheading">Makes the header top fixed, always visible!
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="widget-content p-0">
                                        <div class="widget-content-wrapper">
                                            <div class="widget-content-left mr-3">
                                                <div class="switch has-switch switch-container-class" data-class="fixed-sidebar">
                                                    <div class="switch-animate switch-on">
                                                        <input type="checkbox" checked data-toggle="toggle" data-onstyle="success">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="widget-content-left">
                                                <div class="widget-heading">Fixed Sidebar
                                                </div>
                                                <div class="widget-subheading">Makes the sidebar left fixed, always visible!
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-group-item">
                                    <div class="widget-content p-0">
                                        <div class="widget-content-wrapper">
                                            <div class="widget-content-left mr-3">
                                                <div class="switch has-switch switch-container-class" data-class="fixed-footer">
                                                    <div class="switch-animate switch-off">
                                                        <input type="checkbox" data-toggle="toggle" data-onstyle="success">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="widget-content-left">
                                                <div class="widget-heading">Fixed Footer
                                                </div>
                                                <div class="widget-subheading">Makes the app footer bottom fixed, always visible!
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <h3 class="themeoptions-heading">
                            <div>
                                Header Options
                            </div>
                            <button type="button" class="btn-pill btn-shadow btn-wide ml-auto btn btn-focus btn-sm switch-header-cs-class" data-class="">
                                Restore Default
                            </button>
                        </h3>
                        <div class="p-3">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <h5 class="pb-2">Choose Color Scheme
                                    </h5>
                                    <div class="theme-settings-swatches">
                                        <div class="swatch-holder bg-primary switch-header-cs-class" data-class="bg-primary header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-secondary switch-header-cs-class" data-class="bg-secondary header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-success switch-header-cs-class" data-class="bg-success header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-info switch-header-cs-class" data-class="bg-info header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-warning switch-header-cs-class" data-class="bg-warning header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-danger switch-header-cs-class" data-class="bg-danger header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-light switch-header-cs-class" data-class="bg-light header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-dark switch-header-cs-class" data-class="bg-dark header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-focus switch-header-cs-class" data-class="bg-focus header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-alternate switch-header-cs-class" data-class="bg-alternate header-text-light">
                                        </div>
                                        <div class="divider">
                                        </div>
                                        <div class="swatch-holder bg-vicious-stance switch-header-cs-class" data-class="bg-vicious-stance header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-midnight-bloom switch-header-cs-class" data-class="bg-midnight-bloom header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-night-sky switch-header-cs-class" data-class="bg-night-sky header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-slick-carbon switch-header-cs-class" data-class="bg-slick-carbon header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-asteroid switch-header-cs-class" data-class="bg-asteroid header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-royal switch-header-cs-class" data-class="bg-royal header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-warm-flame switch-header-cs-class" data-class="bg-warm-flame header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-night-fade switch-header-cs-class" data-class="bg-night-fade header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-sunny-morning switch-header-cs-class" data-class="bg-sunny-morning header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-tempting-azure switch-header-cs-class" data-class="bg-tempting-azure header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-amy-crisp switch-header-cs-class" data-class="bg-amy-crisp header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-heavy-rain switch-header-cs-class" data-class="bg-heavy-rain header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-mean-fruit switch-header-cs-class" data-class="bg-mean-fruit header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-malibu-beach switch-header-cs-class" data-class="bg-malibu-beach header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-deep-blue switch-header-cs-class" data-class="bg-deep-blue header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-ripe-malin switch-header-cs-class" data-class="bg-ripe-malin header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-arielle-smile switch-header-cs-class" data-class="bg-arielle-smile header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-plum-plate switch-header-cs-class" data-class="bg-plum-plate header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-happy-fisher switch-header-cs-class" data-class="bg-happy-fisher header-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-happy-itmeo switch-header-cs-class" data-class="bg-happy-itmeo header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-mixed-hopes switch-header-cs-class" data-class="bg-mixed-hopes header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-strong-bliss switch-header-cs-class" data-class="bg-strong-bliss header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-grow-early switch-header-cs-class" data-class="bg-grow-early header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-love-kiss switch-header-cs-class" data-class="bg-love-kiss header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-premium-dark switch-header-cs-class" data-class="bg-premium-dark header-text-light">
                                        </div>
                                        <div class="swatch-holder bg-happy-green switch-header-cs-class" data-class="bg-happy-green header-text-light">
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <h3 class="themeoptions-heading">
                            <div>Sidebar Options</div>
                            <button type="button" class="btn-pill btn-shadow btn-wide ml-auto btn btn-focus btn-sm switch-sidebar-cs-class" data-class="">
                                Restore Default
                            </button>
                        </h3>
                        <div class="p-3">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <h5 class="pb-2">Choose Color Scheme
                                    </h5>
                                    <div class="theme-settings-swatches">
                                        <div class="swatch-holder bg-primary switch-sidebar-cs-class" data-class="bg-primary sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-secondary switch-sidebar-cs-class" data-class="bg-secondary sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-success switch-sidebar-cs-class" data-class="bg-success sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-info switch-sidebar-cs-class" data-class="bg-info sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-warning switch-sidebar-cs-class" data-class="bg-warning sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-danger switch-sidebar-cs-class" data-class="bg-danger sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-light switch-sidebar-cs-class" data-class="bg-light sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-dark switch-sidebar-cs-class" data-class="bg-dark sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-focus switch-sidebar-cs-class" data-class="bg-focus sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-alternate switch-sidebar-cs-class" data-class="bg-alternate sidebar-text-light">
                                        </div>
                                        <div class="divider">
                                        </div>
                                        <div class="swatch-holder bg-vicious-stance switch-sidebar-cs-class" data-class="bg-vicious-stance sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-midnight-bloom switch-sidebar-cs-class" data-class="bg-midnight-bloom sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-night-sky switch-sidebar-cs-class" data-class="bg-night-sky sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-slick-carbon switch-sidebar-cs-class" data-class="bg-slick-carbon sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-asteroid switch-sidebar-cs-class" data-class="bg-asteroid sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-royal switch-sidebar-cs-class" data-class="bg-royal sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-warm-flame switch-sidebar-cs-class" data-class="bg-warm-flame sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-night-fade switch-sidebar-cs-class" data-class="bg-night-fade sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-sunny-morning switch-sidebar-cs-class" data-class="bg-sunny-morning sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-tempting-azure switch-sidebar-cs-class" data-class="bg-tempting-azure sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-amy-crisp switch-sidebar-cs-class" data-class="bg-amy-crisp sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-heavy-rain switch-sidebar-cs-class" data-class="bg-heavy-rain sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-mean-fruit switch-sidebar-cs-class" data-class="bg-mean-fruit sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-malibu-beach switch-sidebar-cs-class" data-class="bg-malibu-beach sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-deep-blue switch-sidebar-cs-class" data-class="bg-deep-blue sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-ripe-malin switch-sidebar-cs-class" data-class="bg-ripe-malin sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-arielle-smile switch-sidebar-cs-class" data-class="bg-arielle-smile sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-plum-plate switch-sidebar-cs-class" data-class="bg-plum-plate sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-happy-fisher switch-sidebar-cs-class" data-class="bg-happy-fisher sidebar-text-dark">
                                        </div>
                                        <div class="swatch-holder bg-happy-itmeo switch-sidebar-cs-class" data-class="bg-happy-itmeo sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-mixed-hopes switch-sidebar-cs-class" data-class="bg-mixed-hopes sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-strong-bliss switch-sidebar-cs-class" data-class="bg-strong-bliss sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-grow-early switch-sidebar-cs-class" data-class="bg-grow-early sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-love-kiss switch-sidebar-cs-class" data-class="bg-love-kiss sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-premium-dark switch-sidebar-cs-class" data-class="bg-premium-dark sidebar-text-light">
                                        </div>
                                        <div class="swatch-holder bg-happy-green switch-sidebar-cs-class" data-class="bg-happy-green sidebar-text-light">
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <h3 class="themeoptions-heading">
                            <div>Main Content Options</div>
                            <button type="button" class="btn-pill btn-shadow btn-wide ml-auto active btn btn-focus btn-sm">Restore Default
                            </button>
                        </h3>
                        <div class="p-3">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <h5 class="pb-2">Page Section Tabs
                                    </h5>
                                    <div class="theme-settings-swatches">
                                        <div role="group" class="mt-2 btn-group">
                                            <button type="button" class="btn-wide btn-shadow btn-primary btn btn-secondary switch-theme-class" data-class="body-tabs-line">
                                                Line
                                            </button>
                                            <button type="button" class="btn-wide btn-shadow btn-primary active btn btn-secondary switch-theme-class" data-class="body-tabs-shadow">
                                                Shadow
                                            </button>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>        <div class="app-main">
                <div class="app-sidebar sidebar-shadow">
                    <div class="app-header__logo">
                        <div class="logo-src"></div>
                        <div class="header__pane ml-auto">
                            <div>
                                <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                                    <span class="hamburger-box">
                                        <span class="hamburger-inner"></span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="app-header__mobile-menu">
                        <div>
                            <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                    <div class="app-header__menu">
                        <span>
                            <button type="button" class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav">
                                <span class="btn-icon-wrapper">
                                    <i class="fa fa-ellipsis-v fa-w-6"></i>
                                </span>
                            </button>
                        </span>
                    </div>    <div class="scrollbar-sidebar">
                        <div class="app-sidebar__inner">
                            <ul class="vertical-nav-menu">
                                <li class="app-sidebar__heading">Dashboards</li>
                                <li>
                                    <a href="main_dashboard.html">
                                        <i class="metismenu-icon pe-7s-rocket"></i>
                                        Sales Management
                                    </a>
                                </li>
                                <li>
                                    <a href="time_dashboard.html" class="mm-active">
                                        <i class="metismenu-icon pe-7s-display2"></i>
                                        Time Management
                                    </a>
                                </li>
                                <li>
                                    <a href="salary_dashboard.html">
                                        <i class="metismenu-icon pe-7s-graph2"></i>
                                        Salary Management
                                    </a>
                                </li>
                               
                            </ul>
                        </div>
                    </div>
                </div>    <div class="app-main__outer">
                    <div class="app-main__inner">
                        <div class="app-page-title">
                            <div class="page-title-wrapper">
                                <div class="page-title-heading">
                                   <!-- <div class="page-title-icon"> -->
                                        <!-- class="pe-7s-car icon-gradient bg-mean-fruit" -->
                                        <!-- <i> -->
                                            <img  src="assets/images/logo-inverse-cropped3.jpeg" alt="">
                                        <!-- </i> -->
                                    <!-- </div> -->
                                    <div>Car Shipping Sales
                                        <div class="page-title-subheading">Sales Analytics Management System
                                        </div>
                                    </div>
                                </div>
                                <div class="page-title-actions">
                                    <!-- <button type="button" data-toggle="tooltip" title="Example Tooltip" data-placement="bottom" class="btn-shadow mr-3 btn btn-dark"></button>
                                        <i class="fa fa-star"></i>
                                    </button> -->
                                    <div class="d-inline-block dropdown">
                                        <!-- <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn-shadow dropdown-toggle btn btn-info">
                                            <span class="btn-icon-wrapper pr-2 opacity-7">
                                                <i class="fa fa-business-time fa-w-20"></i>
                                            </span>
                                            Buttons
                                        </button> -->
                                        <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu dropdown-menu-right">
                                            <ul class="nav flex-column">
                                                <li class="nav-item">
                                                    <a href="javascript:void(0);" class="nav-link">
                                                        <i class="nav-link-icon lnr-inbox"></i>
                                                        <span>
                                                            Inbox
                                                        </span>
                                                        <div class="ml-auto badge badge-pill badge-secondary">86</div>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a href="javascript:void(0);" class="nav-link">
                                                        <i class="nav-link-icon lnr-book"></i>
                                                        <span>
                                                            Book
                                                        </span>
                                                        <div class="ml-auto badge badge-pill badge-danger">5</div>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a href="javascript:void(0);" class="nav-link">
                                                        <i class="nav-link-icon lnr-picture"></i>
                                                        <span>
                                                            Picture
                                                        </span>
                                                    </a>
                                                </li>
                                                <li class="nav-item">
                                                    <a disabled href="javascript:void(0);" class="nav-link disabled">
                                                        <i class="nav-link-icon lnr-file-empty"></i>
                                                        <span>
                                                            File Disabled
                                                        </span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>    </div>
                        </div>            <div class="row">
                          
                        <div class="row">
                            <div class="col-md-6">
                            <div class="main-card mb-3 card">
                                <div class="card-body">
                                    <h5 class="card-title">Submit Check-in and Check-out</h5>
                                    <form class="needs-validation" novalidate > <!--action="http://localhost:5000/write" method="post"-->
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">Start Time</label>
                                                <input type="text" name="start_time" class="form-control" id="start_time" placeholder="Timestamp" value="" required disabled>
                                                <script>
                                                    var datetime = new Date().toLocaleString();
                                                    document.getElementById("start_time").value = datetime;
                                                </script>
                                                <div class="valid-feedback">
                                                    Looks good!
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">End Time</label>
                                                <input type="text" name="end_time" class="form-control" id="end_time" placeholder="Timestamp" value="" required disabled>
                                                <script>
                                                    var datetime = new Date().toLocaleString();
                                                    document.getElementById("end_time").value = datetime;
                                                </script>
                                                <div class="valid-feedback">
                                                    Looks good!
                                                </div>
                                            </div>
                                            <script type="text/javascript" src="./assets/scripts/ip_addr.js"></script>
                                            <script>
                                                const timesheets = new FormData();
                                                var timesheets_xhr = new XMLHttpRequest();
                                                timesheets.append('agent_id', sessionStorage.getItem('agent_id'));
                                                timesheets_xhr.onreadystatechange = function() {
                                                if (timesheets_xhr.readyState === 4) {
                                                    console.log("Data Fetched");
                                                    var results = timesheets_xhr.response;  
                                                    results = JSON.parse(results);
                                                    results = results.decision;
                                                    console.log("RESULTS: ", results);
                                                    if (results == 'no_time'){
                                                        document.getElementById('timesheets_button').innerText = "Set Start Time";
                                                    }
                                                    else if(results == 'need_et'){
                                                        document.getElementById('timesheets_button').innerText = "Set End Time";
                                                    }
                                                    else{
                                                        document.getElementById('timesheets_button').disabled = true;
                                                    }
                                                    }
                                                }
                                                timesheets_xhr.open('POST', ip_addr + '/read_time_today_validation', true);
                                                timesheets_xhr.send(timesheets);
                                            </script>
                                           
                                        </div>
                                        <!-- <div class="form-group">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                                                <label class="form-check-label" for="invalidCheck">
                                                    Agree to terms and conditions
                                                </label>
                                                <div class="invalid-feedback">
                                                    You must agree before submitting.
                                                </div>
                                            </div>
                                        </div> -->
                                        <button class="btn btn-primary" type="submit" id="timesheets_button">Submit form</button>
                                        
                                    </form>

                                    <br>
                                    <button class="btn btn-danger" onclick="shift_end()" id="end_shift_button">End Shift</button>
                                    <div id=salesresults></div>
                                    <script>
                                        document.querySelector('form').addEventListener('submit', (e) => {
                                        var confirm_to_submit = confirm("Submit timesheet?");
                                        if(confirm_to_submit){
                                            const formData = new FormData();
                                            xhr = new XMLHttpRequest();
                                            var agent_id = sessionStorage.getItem("agent_id");
                                            formData.append("agent_id", agent_id);
                                            // formData.append('start_time')
                                            if(document.getElementById('timesheets_button').innerText == "Set Start Time"){
                                                var start_time_val = document.getElementById("start_time").value;
                                                formData.append('start_time', start_time_val)
                                                xhr.open( 'POST', ip_addr + '/write_start_time', false );
                                            }
                                            else{
                                                var end_time_val = document.getElementById("end_time").value;
                                                formData.append('end_time', end_time_val)
                                                xhr.open( 'POST', ip_addr + '/update_end_time', false );
                                            }
                                            xhr.onreadystatechange = function ( response ) {};
                                            xhr.send( formData );
                                        }

                                        // e.preventDefault();
                                        });
                                        
                                    </script>
                                    <script>
                                        function shift_end(){
                                            if(document.getElementById('timesheets_button').innerText == "Set End Time"){
                                                alert("Set End Time First to end shift")
                                            }
                                            else{
                                                var confirn_end_shift = confirm("Do you want to end shift?");
                                                if(confirn_end_shift){
                                                    const formData = new FormData();
                                                    xhr = new XMLHttpRequest();
                                                    var agent_id = sessionStorage.getItem("agent_id");
                                                    formData.append("agent_id", agent_id);
                                                    
                                                    xhr.open( 'POST', ip_addr + '/update_end_shift', false );
                                                    xhr.onreadystatechange = function ( response ) {};
                                                    xhr.send( formData );
                                                }
                                            }
                                        }
                                    </script>
                
                                    <script>
                                        // Example starter JavaScript for disabling form submissions if there are invalid fields
                                        (function() {
                                            'use strict';
                                            window.addEventListener('load', function() {
                                                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                                                var forms = document.getElementsByClassName('needs-validation');
                                                // Loop over them and prevent submission
                                                var validation = Array.prototype.filter.call(forms, function(form) {
                                                    form.addEventListener('submit', function(event) {
                                                        if (form.checkValidity() === false) {
                                                            event.preventDefault();
                                                            event.stopPropagation();
                                                        }
                                                        form.classList.add('was-validated');
                                                    }, false);
                                                });
                                            }, false);
                                        })();
                                    </script>
                                </div>
                            </div>
                            </div>
                            <div class="col-md-6">
                                <div class="main-card mb-3 card">
                                    <div class="card-body"><h5 class="card-title">Time Records</h5>
                                        <input type="date" id="from_date" name="from_date">
                                        <input type="date" id="to_date" name="to_date">
                                        <button class="btn btn-primary" onclick="time_history()">Filter</button>
                                        <table id="populateTable" class="mb-0 table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Start Time</th>
                                                    <th>End Time</th>
                                                    <th>Agent ID</th>
                                                    <!-- <th>Order ID</th>
                                                    <th>Actions</th> -->
                                                </tr>
                                                </thead>
                                        </table>
                                    </div>
                                    <button class="mb-2 mr-2 btn btn-primary" onclick="time_history()">Refresh
                                    </button>
                                </div>
                                
                            </div>

                            <script>
                                // function populateDatedOverview(result){
                                //     var table = document.getElementById("populateTable");
                                //     var from_date = document.getElementById('from_date').value;
                                //     var to_date = document.getElementById('to_date').value;
                                //     if((from_date) && (to_date)){
                                //         console.log("has values");
                                //     }
                                //     else{
                                //         console.log("has NO values");
                                //     }
                                //     console.log(from_date, to_date);
                                //     xhr = new XMLHttpRequest();
                                //     const formData = new FormData();
                                //     formData.append('from_date', from_date);
                                //     formData.append('to_date', to_date);
                                    
                                //     xhr.onreadystatechange = function() {
                                //         if (xhr.readyState === 4) {
                                //         // callback(xhr.response);
                                //             console.log("Data Fetched");
                                //             var results = xhr.response;  
                                //             results = JSON.parse(results);
                                //             console.log("RESULTS: ", results);

                                //             function addCell(tr, text, last=false, btn_id=null) {
                                //                 function ViewClick(event){
                                //                 console.log(event.target.id + ' was clicked'); //modal_timestamp
                                //                 // factionName = results[event.target.id-1]['timestamp'];
                                //                 // console.log(factionName);
                                //                 // document.getElementById('modal_timestamp').innerHTML = factionName;
                                //                 var orig_keys = {"modal_timestamp":"Timestamp", "modal_agent_name":"Agent Name", "modal_order_id":"Order ID", "modal_client_name":"Client Name", "modal_contact":"Contact", "modal_email_id":"Email-ID", "modal_total_tariff":"Total Tarrif", "modal_deposit":"Deposit", "modal_profit":"Profit", "modal_driver_pay":"Driver Pay", "modal_payment_method":"Payment Method", "modal_pickup_date":"Pickup Date", "modal_no_of_vehicles":"Number of Vehicles", "modal_pickup":"Pickup", "modal_booking_status":"Booking Status", "modal_agreement":"Agreement", "modal_agent_notes":"Agent Notes", "modal_jt_link":"JT Link", }
                                //                 Object.keys(results[event.target.id - 1]).forEach(function(key) {
                                //                     document.getElementById('modal_' + key).innerHTML = orig_keys['modal_' + key].bold() + ": " + results[event.target.id - 1][key];
                                //                     })
                                //                 }

                                //                 function EditClick(event){
                                //                 console.log(event.target.id + ' was clicked'); //modal_timestamp
                                //                 Object.keys(results[event.target.id - 1]).forEach(function(key) {
                                //                     document.getElementById('emodal_' + key).value = results[event.target.id - 1][key];
                                //                     })
                                //                 }

                                //                 function DeleteClick(event){
                                //                     var del = confirm("Are you sure, you want to delete this?")
                                //                     if(del){
                                //                         console.log("DELETE" + event.target.id)
                                //                         var xhr2 = new XMLHttpRequest();
                                //                         xhr2.open( 'POST', ip_addr + '/delete', true );
                                //                         xhr2.onreadystatechange = function ( response ) {};
                                //                         console.log("ORDER ID " + results[event.target.id - 1]['order_id']);
                                //                         order_id_form = new FormData();
                                //                         order_id_form.append('order_id', results[event.target.id - 1]['order_id']);
                                //                         xhr2.send(order_id_form);
                                //                     }
                                //                     else{
                                //                         console.log("NOT DELETE" + event.target.id)
                                //                     }
                                //                 }

                                //                 if (last == true) {
                                //                     var btn = document.createElement('input');
                                //                     var btn2 = document.createElement('input');
                                //                     var btn3 = document.createElement('input');

                                //                     var td = tr.insertCell();
                                //                     btn.id = btn_id
                                //                     btn.type = "button";
                                //                     btn.className = "mb-2 mr-2 btn-transition btn btn-outline-primary";
                                //                     btn.value = "View";
                                //                     btn.dataset.target = "#exampleModalLong";
                                //                     btn.dataset.toggle = "modal";
                                //                     btn.onclick = ViewClick;
                                //                     td.appendChild(btn);

                                //                     btn2.type = "button";
                                //                     btn2.id = btn_id
                                //                     btn2.className = "mb-2 mr-2 btn-transition btn btn-outline-warning";
                                //                     btn2.value = "Edit";
                                //                     btn2.dataset.target = "#editmodal";
                                //                     btn2.dataset.toggle = "modal";
                                //                     btn2.onclick = EditClick;
                                //                     td.appendChild(btn2);

                                //                     btn3.type = "button";
                                //                     btn3.id = btn_id
                                //                     btn3.className = "mb-2 mr-2 btn-transition btn btn-outline-danger";
                                //                     btn3.value = "Delete";
                                //                     btn3.onclick = DeleteClick;
                                //                     td.appendChild(btn3);


                                //                     return td;
                                //                 }
                                //                 else{
                                //                     var td = tr.insertCell();
                                //                     td.textContent = text;
                                //                     return td;
                                //                 }
                                //             }  

                                //             var i = 1;
                                //             var Table = document.getElementById("populateTable");
                                //             Table.innerHTML = "<thead><tr><th>#</th><th>Timestamp</th><th>Agent Name</th><th>Order ID</th><th>Actions</th></tr></thead>";
                                //             // var table_cols = ["TimeStamp", "Agent Name", "Order ID", "Actions"]
                                //             // for(var a = 0; a < 4; a++){

                                //             // }
                                //             for(var j = 0; j < results.length; j++){
                                //                 var row = table.insertRow();
                                //                 var item = results[j];
                                //                 addCell(row, i);
                                //                 addCell(row, item.timestamp);
                                //                 addCell(row, item.agent_name);
                                //                 addCell(row, item.order_id);
                                //                 addCell(row, "", last=true, btn_id=i);
                                //                 i = i + 1;
                                //                 }
                                                
                                //         }
                                //     }
                                //     xhr.open( 'POST', ip_addr + '/read_by_date', true );
                                //     xhr.send( formData );
                                // }
                                function time_history(result){
                                    var table = document.getElementById("populateTable");
                                    
                                    var xhr = new XMLHttpRequest();
                                    xhr.onreadystatechange = function() {
                                        if (xhr.readyState === 4) {
                                        // callback(xhr.response);
                                            console.log("Data Fetched");
                                            var results = xhr.response;  
                                            results = JSON.parse(results);
                                            console.log("RESULTS: ", results);

                                            function addCell(tr, text, last=false, btn_id=null) {
                                               

                                              
                                                    var td = tr.insertCell();
                                                    td.textContent = text;
                                                    return td;
                                                
                                            }  

                                            var i = 1;
                                            var Table = document.getElementById("populateTable");
                                            Table.innerHTML = "<thead><tr><th>#</th><th>Start Time</th><th>End Time</th><th>Agent ID</th></tr></thead>";
                                            // var table_cols = ["TimeStamp", "Agent Name", "Order ID", "Actions"]
                                            // for(var a = 0; a < 4; a++){

                                            // }
                                            for(var j = 0; j < results.length; j++){
                                                var row = table.insertRow();
                                                var item = results[j];
                                                addCell(row, i);
                                                addCell(row, item.start_time);
                                                addCell(row, item.end_time);
                                                addCell(row, item.agent_id);
                                                // addCell(row, "", last=true, btn_id=i);
                                                i = i + 1;
                                                }
                                                
                                        }
                                    }
                                    
                                    xhr.open('POST', ip_addr + '/read_time', true);
                                    var from_date = document.getElementById('from_date').value;
                                    var to_date = document.getElementById('to_date').value;
                                    const formData = new FormData();
                                    var agent_id = sessionStorage.getItem("agent_id");
                                    formData.append("agent_id", agent_id);
                                    if((from_date) && (to_date)){
                                        
                                        console.log("Processing with dates");
                                        formData.append('from_date', from_date);
                                        formData.append('to_date', to_date);
                                        xhr.send(formData);
                                    }
                                    else{
                                        console.log("Processing without dates");
                                        // var formData = '';
                                        xhr.send(formData);
                                    }
                                    
                                    // console.log(results);                                    
                                }
                            </script>



                        </div>
                       
                        
                        
                    </div>
                       
                </div>
                <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
        </div>
    </div>
<script type="text/javascript" src="./assets/scripts/main.js"></script>
<script type="text/javascript" src="./assets/scripts/ip_addr.js"></script>
</body>

</html>
<!-- VIEW MODAL START -->
<div id="exampleModalLong" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal_order_id"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="modal_timestamp"></p>
                <p id="modal_agent_name"></p>
                <p id="modal_order_id"></p>
                <p id="modal_client_name"></p>
                <p id="modal_contact"></p>
                <p id="modal_email_id"></p>
                <p id="modal_total_tariff"></p>
                <p id="modal_deposit"></p>
                <p id="modal_profit"></p>
                <p id="modal_driver_pay"></p>
                <p id="modal_payment_method"></p>
                <p id="modal_pickup_date"></p>
                <p id="modal_no_of_vehicles"></p>
                <p id="modal_pickup"></p>
                <p id="modal_booking_status"></p>
                <p id="modal_agreement"></p>
                <p id="modal_agent_notes"></p>
                <p id="modal_jt_link"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
        </div>
    </div>
</div>
<!-- VIEW MODAL END -->

<!-- EDIT MODAL START -->

<div id="editmodal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <script>
                function update_changes(){
                    var data = document.getElementById("form-2");
                    var formData = new FormData();
                    var names = ['timestamp', 'agent_name', 'order_id', 'client_name', 'contact', 'email_id', 'total_tariff', 'deposit', 'profit', 'driver_pay', 'payment_method', 'pickup_date', 'no_of_vehicles', 'pickup', 'booking_status', 'agreement', 'agent_notes', 'jt_link']
                    // alert(data['agent_name'].value);
                    for(var b=0;b<names.length;b++){
                        formData.append(names[b], data[names[b]].value)
                    }
                    xhr = new XMLHttpRequest();
            
                    xhr.open( 'POST', ip_addr + "/update", true );
                    xhr.onreadystatechange = function ( response ) {};
                    xhr.send( formData );
                }
            </script>

            <div class="modal-body">
                <form id="form-2" class="needs-validation" novalidate > <!--action="http://localhost:5000/write" method="post"-->
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Timestamp</label>
                            <input type="text" name="timestamp" class="form-control" id="emodal_timestamp" placeholder="Timestamp" value="" required>
                            <!-- <script>
                                var datetime = new Date().toLocaleString();
                                document.getElementById("timestamp").value = datetime;
                            </script> -->
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Agent Name</label>
                            <input type="text" name="agent_name" class="form-control" id="emodal_agent_name" placeholder="Agent Name" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Order ID</label>
                            <input type="text" name="order_id" class="form-control" id="emodal_order_id" placeholder="Order ID" value="" disabled>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Client Name</label>
                            <input type="text" name="client_name" class="form-control" id="emodal_client_name" placeholder="Client Name" value=""required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Contact</label>
                            <input type="text" name="contact" class="form-control" id="emodal_contact" placeholder="Contact" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Email-ID</label>
                            <input type="text" name="email_id" class="form-control" id="emodal_email_id" placeholder="Email-ID" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Total Tariff</label>
                            <input type="text" name="total_tariff" class="form-control" id="emodal_total_tariff" placeholder="Total Tariff" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Deposit</label>
                            <input type="text" name="deposit" class="form-control" id="emodal_deposit" placeholder="Deposit" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Profit</label>
                            <input type="text" name="profit" class="form-control" id="emodal_profit" placeholder="Profit" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Driver Pay</label>
                            <input type="text" name="driver_pay" class="form-control" id="emodal_driver_pay" placeholder="Driver Pay" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Payment Method</label>
                            <input type="text" name="payment_method" class="form-control" id="emodal_payment_method" placeholder="Payment Method" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Pickup Date</label>
                            <input type="text" name="pickup_date" class="form-control" id="emodal_pickup_date" placeholder="Pickup Date" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Number of Vehicle</label>
                            <input type="text" name="no_of_vehicles" class="form-control" id="emodal_no_of_vehicles" placeholder="Number of Vehicle" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Pickup</label>
                            <input type="text" name="pickup" class="form-control" id="emodal_pickup" placeholder="Pickup" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Booking Status</label>
                            <input type="text" name="booking_status" class="form-control" id="emodal_booking_status" placeholder="Booking Status" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom01">Agreement</label>
                            <input type="text" name="agreement" class="form-control" id="emodal_agreement" placeholder="Agreement" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">Agent Notes</label>
                            <input type="text" name="agent_notes" class="form-control" id="emodal_agent_notes" placeholder="Agent Notes" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="validationCustom02">JT Link</label>
                            <input type="text" name="jt_link" class="form-control" id="emodal_jt_link" placeholder="JT Link" value="" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                    </div>
                    <button onclick="update_changes()" class="btn btn-primary" type="submit">Save Changes</button>
                </form>
                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
            </div>
        </div>
    </div>
</div>
<!-- EDIT MODAL END -->